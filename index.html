<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Advanced Monthly Task Tracker</title> <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <style> :root { --primary: #1976d2; --primary-dark: #0d47a1; --accent: #4caf50; --bg: #ffffff; --bg-light: #f4f6fb; --bg-dark: #121212; --card-bg: #ffffff; --text: #222; --text-light: #444; --shadow: 0 4px 14px rgba(0,0,0,0.15); } .dark { --bg: #121212; --bg-light: #1e1e1e; --card-bg: #1f1f1f; --text: #e0e0e0; --text-light: #bdbdbd; --shadow: 0 4px 20px rgba(255,255,255,0.08); } body { margin:0; padding:20px; font-family: system-ui, sans-serif; color: var(--text); background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1650&q=80') no-repeat center center fixed; background-size: cover; transition: 0.3s ease; } .dark body { background: url('https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?auto=format&fit=crop&w=1650&q=80') no-repeat center center fixed; background-size: cover; } .wrapper { max-width: 1200px; margin: auto; background: rgba(255,255,255,0.9); padding: 20px; border-radius: 12px; box-shadow: var(--shadow); transition: 0.3s ease; } .dark .wrapper { background: rgba(30,30,30,0.9); } button { background: var(--primary); color: white; border: none; padding: 8px 10px; border-radius: 6px; cursor: pointer; font-size: 13px; transition: 0.2s; } button:hover { background: var(--primary-dark); } button.secondary { background: var(--accent); } .rename-btn { font-size:12px; margin-left:4px; padding:2px 5px; cursor:pointer; background:#ff9800; border-radius:4px; color:white;} .color-picker { width:20px; height:20px; border:none; cursor:pointer; margin-left:4px; vertical-align:middle; } .flame { font-size: 22px; display: inline-block; transition: transform 0.3s ease, filter 0.3s ease; } .flame.small { transform: scale(0.75); filter: drop-shadow(0 0 2px rgba(255,165,0,0.4)); } .flame.medium { transform: scale(1.1); filter: drop-shadow(0 0 4px rgba(255,100,0,0.7)); } .flame.large { transform: scale(1.4); filter: drop-shadow(0 0 6px rgba(255,30,0,1)); } .flame.dead { opacity: 0.3; filter: none; } #weeklySection { overflow: hidden; max-height: 1000px; transition: max-height 0.5s ease; } #weeklySection.hidden { max-height: 0; padding: 0 !important; } .streak-box { margin-top: 8px; font-size: 13px; font-weight: 600; color: var(--text-light); } .streak-box b { color: var(--primary); } .progress-bar { width: 100%; height: 12px; background: #ddd; border-radius: 6px; overflow: hidden; } .progress-fill { height: 100%; width: 0%; animation: fill 1s ease forwards; } .progress-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; } .progress-card { background: var(--card-bg); padding: 14px; border-radius: 10px; box-shadow: var(--shadow); } table { width: 100%; border-collapse: collapse; margin-top: 16px; } th, td { border: 1px solid #ddd; padding: 6px; text-align: center; transition: 0.2s; } tr:hover td { background: rgba(0,0,0,0.05); } input[type=checkbox] { width: 18px; height: 18px; accent-color: var(--primary); cursor:pointer; } td.weekend { background-color: rgba(255,200,200,0.3); } .dark td.weekend { background-color: rgba(255,100,100,0.2); } .dark-toggle { display: flex; align-items: center; gap: 8px; margin-left: auto; } </style> </head> <body> <div class="wrapper"> <h1>üìÖ Advanced Monthly Task Tracker</h1> <div class="month-bar" style="display:flex;justify-content:space-between;align-items:center;"> <h2 id="monthTitle">December 2025</h2> <div class="dark-toggle"> <label>Dark Mode</label> <input type="checkbox" id="darkToggle"> </div> </div> <select id="monthSelector" onchange="changeMonth()"> <option value="0">December 2025</option> <option value="1">January 2026</option> <option value="2">February 2026</option> <option value="3">March 2026</option> <option value="4">April 2026</option> <option value="5">May 2026</option> <option value="6">June 2026</option> <option value="7">July 2026</option> <option value="8">August 2026</option> <option value="9">September 2026</option> <option value="10">October 2026</option> <option value="11">November 2026</option> </select> <div class="controls" style="margin: 14px 0;"> <button onclick="addTask()">‚ûï Add Task</button> <button onclick="removeTask()">‚ûñ Remove Task</button> <button class="secondary" onclick="exportCSV()">üì§ Export CSV</button> <button onclick="toggleWeekly()">üìâ Toggle Weekly Summary</button> </div> <h2>üìä Task Progress</h2> <div class="progress-grid" id="progressGrid"></div> <table> <thead> <tr id="headerRow"> <th>Day</th> <th class="taskHeader" data-color="#4caf50"> üåÖ Exercise <input type="color" class="color-picker" onchange="changeColor(0,this.value)" value="#4caf50"> <span class="rename-btn" onclick="renameTask(0)">‚úèÔ∏è</span> </th> <th class="taskHeader" data-color="#f44336"> üìö Reading <input type="color" class="color-picker" onchange="changeColor(1,this.value)" value="#f44336"> <span class="rename-btn" onclick="renameTask(1)">‚úèÔ∏è</span> </th> <th class="taskHeader" data-color="#ff9800"> üßò Meditation <input type="color" class="color-picker" onchange="changeColor(2,this.value)" value="#ff9800"> <span class="rename-btn" onclick="renameTask(2)">‚úèÔ∏è</span> </th> </tr> </thead> <tbody id="tableBody"></tbody> </table> <div id="weeklySection" style="margin-top:28px;"> <h2>üìà Weekly Summary</h2> <canvas id="combinedChart" height="90"></canvas> <div id="taskCharts"></div> </div> </div> <script> let taskCount = 3; let currentMonth = 0; let taskColors = []; const monthNames=["","January","February","March","April","May","June","July","August","September","October","November","December"]; document.getElementById("darkToggle").onchange=function(){document.body.classList.toggle("dark",this.checked);localStorage.setItem("darkMode",this.checked);}; if(localStorage.getItem("darkMode")==="true"){document.body.classList.add("dark");document.getElementById("darkToggle").checked=true;} function toggleWeekly(){const sec=document.getElementById("weeklySection");const hidden=sec.classList.toggle("hidden");localStorage.setItem("weeklyHidden",hidden);} if(localStorage.getItem("weeklyHidden")==="true"){document.getElementById("weeklySection").classList.add("hidden");} function loadTaskColors(){taskColors = JSON.parse(localStorage.getItem("taskColors")) || ["#4caf50","#f44336","#ff9800"]; } loadTaskColors(); function saveTaskColors(){localStorage.setItem("taskColors",JSON.stringify(taskColors));} function renameTask(index){const newName = prompt("Rename Task:", document.querySelectorAll(".taskHeader")[index].textContent); if(newName){document.querySelectorAll(".taskHeader")[index].childNodes[0].nodeValue=newName; saveHeaders(); generateTable();}} function changeColor(index,color){taskColors[index]=color; saveTaskColors(); updateEverything();} function saveHeaders(){const headers=Array.from(document.querySelectorAll(".taskHeader")).map(h=>h.childNodes[0].nodeValue);localStorage.setItem("taskHeaders",JSON.stringify(headers));} function loadHeaders(){const saved = JSON.parse(localStorage.getItem("taskHeaders"));if(saved && saved.length>0){const headerRow = document.getElementById("headerRow");const dayTh = headerRow.querySelector("th");headerRow.innerHTML = "";headerRow.appendChild(dayTh);saved.forEach((text,i)=>{const th=document.createElement("th");th.className="taskHeader";th.dataset.color = taskColors[i]||"#4caf50";th.innerHTML=${text}<input type="color" class="color-picker" value="${taskColors[i]}" onchange="changeColor(${i},this.value)"><span class="rename-btn" onclick="renameTask(${i})">‚úèÔ∏è</span>;headerRow.appendChild(th)});taskCount = saved.length;}} function daysInMonth(m){if(m===0)return 31;return new Date(2026,m,0).getDate();} function changeMonth(){const val=parseInt(document.getElementById("monthSelector").value);currentMonth=val;let year=(currentMonth===0?2025:2026);let monthName=(currentMonth===0?"December":monthNames[currentMonth]);document.getElementById("monthTitle").textContent=monthName+" "+year;generateTable();} function generateTable(){loadHeaders();loadTaskColors();const tbody=document.getElementById("tableBody");tbody.innerHTML="";const total=daysInMonth(currentMonth);const year=currentMonth===0?2025:2026;const weekdayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let d=1;d<=total;d++){const row=document.createElement("tr");const weekdayIndex=new Date(year,currentMonth===0?11:currentMonth-1,d).getDay();const dayCell=document.createElement("td");dayCell.textContent=${d} (${weekdayNames[weekdayIndex]});if(weekdayIndex===0||weekdayIndex===6)dayCell.classList.add("weekend");row.appendChild(dayCell);for(let t=0;t<taskCount;t++){const cell=document.createElement("td");const cb=document.createElement("input");cb.type="checkbox";cb.id=m${currentMonth}-d${d}-t${t};cb.className="task-checkbox";cb.onchange=()=>{saveState();updateEverything();};cell.appendChild(cb);row.appendChild(cell);if(weekdayIndex===0||weekdayIndex===6)cell.classList.add("weekend");}tbody.appendChild(row);}loadState();updateEverything();} // === Fixed per-month state storage === function saveState(){const all=document.querySelectorAll(".task-checkbox");let saved=JSON.parse(localStorage.getItem("taskStates")||"{}");if(!saved[currentMonth]) saved[currentMonth]={};all.forEach(cb=>saved[currentMonth][cb.id]=cb.checked);localStorage.setItem("taskStates",JSON.stringify(saved));} function loadState(){const saved=JSON.parse(localStorage.getItem("taskStates")||"{}");if(!saved[currentMonth]) return;Object.keys(saved[currentMonth]).forEach(id=>{const cb=document.getElementById(id);if(cb)cb.checked=saved[currentMonth][id];});} function updateProgressCards(){const grid=document.getElementById("progressGrid");grid.innerHTML="";for(let t=0;t<taskCount;t++){const cbs=document.querySelectorAll(input[id*="-t${t}"]);const done=Array.from(cbs).filter(c=>c.checked).length;const total=cbs.length;const percent=Math.round((done/total)*100);const color = taskColors[t]||"#4caf50";const card=document.createElement("div");card.className="progress-card";card.innerHTML=<h3>${document.querySelectorAll(".taskHeader")[t].childNodes[0].nodeValue}</h3><div class="progress-bar"><div class="progress-fill" style="width:${percent}%;background:${color}"></div></div><div>${done}/${total} (${percent}%)</div><div class="streak-box"><span id="flame${t}" class="flame dead">üî•</span><br>üî• Current Streak: <b id="currentStreak${t}">0</b> days<br>üèÖ Best Streak: <b id="bestStreak${t}">0</b> days</div>;grid.appendChild(card);}calculateStreaks();} function calculateStreaks(){const total=daysInMonth(currentMonth);for(let t=0;t<taskCount;t++){let best=0,temp=0,current=0;for(let d=1;d<=total;d++){const cb=document.getElementById(m${currentMonth}-d${d}-t${t});if(cb.checked){temp++;best=Math.max(best,temp);}else temp=0;}for(let d=total;d>=1;d--){const cb=document.getElementById(m${currentMonth}-d${d}-t${t});if(cb.checked)current++;else break;}document.getElementById(currentStreak${t}).textContent=current;document.getElementById(bestStreak${t}).textContent=best;const flame=document.getElementById(flame${t});flame.className="flame";if(current===0)flame.classList.add("dead");else if(current<=3)flame.classList.add("small");else if(current<=7)flame.classList.add("medium");else flame.classList.add("large");}} let combinedChart; function updateCharts(){const total=daysInMonth(currentMonth);const weeks=["Week 1","Week 2","Week 3","Week 4"];const headers=document.querySelectorAll(".taskHeader");document.getElementById("taskCharts").innerHTML="";let datasets=[];for(let t=0;t<taskCount;t++){let weekData=[0,0,0,0];for(let d=1;d<=total;d++){const week=Math.floor((d-1)/7);const cb=document.getElementById(m${currentMonth}-d${d}-t${t});if(cb.checked)weekData[week]++;}datasets.push(weekData);let canvas=document.createElement("canvas");canvas.height=80;document.getElementById("taskCharts").appendChild(canvas);new Chart(canvas,{type:"bar",data:{labels:weeks,datasets:[{label:headers[t].childNodes[0].nodeValue,data:weekData,backgroundColor:taskColors[t],borderRadius:8,borderSkipped:false}]}});}if(combinedChart)combinedChart.destroy();combinedChart=new Chart(document.getElementById("combinedChart"),{type:"bar",data:{labels:weeks,datasets:datasets.map((data,i)=>({label:headers[i].childNodes[0].nodeValue,data,backgroundColor:taskColors[i],borderRadius:8,borderSkipped:false}))}});} function addTask(){taskCount++;taskColors.push("#"+Math.floor(Math.random()*16777215).toString(16));saveTaskColors();let th=document.createElement("th");th.className="taskHeader";th.dataset.color = taskColors[taskCount-1];th.innerHTML=Task ${taskCount}<input type="color" class="color-picker" value="${taskColors[taskCount-1]}" onchange="changeColor(${taskCount-1},this.value)"><span class="rename-btn" onclick="renameTask(${taskCount-1})">‚úèÔ∏è</span>;document.getElementById("headerRow").appendChild(th);saveHeaders();generateTable();} function removeTask(){if(taskCount<=1)return;document.querySelector("#headerRow th:last-child").remove();taskCount--;taskColors.pop();saveTaskColors();saveHeaders();generateTable();} function exportCSV(){let headers=["Day"];document.querySelectorAll(".taskHeader").forEach(h=>headers.push(h.childNodes[0].nodeValue));let rows=[];const total=daysInMonth(currentMonth);for(let d=1;d<=total;d++){let row=[d];for(let t=0;t<taskCount;t++){const cb=document.getElementById(m${currentMonth}-d${d}-t${t});row.push(cb.checked?"1":"0");}rows.push(row);}let csv=[headers.join(",")].concat(rows.map(r=>r.join(","))).join("\n");let blob=new Blob([csv],{type:"text/csv"});let url=URL.createObjectURL(blob);let a=document.createElement("a");a.href=url;a.download=TaskTracker_${currentMonth}.csv;a.click();URL.revokeObjectURL(url);} function updateEverything(){updateProgressCards();updateCharts();} changeMonth(); </script> </body> </html>
